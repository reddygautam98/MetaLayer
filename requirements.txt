# =====================================================
# METALAYER ETL PIPELINE DEPENDENCIES  
# Version-locked for GitHub Actions compatibility
# =====================================================

# =====================================================  
# CORE FRAMEWORK (STANDARDIZED VERSIONS)
# =====================================================
# NOTE: Airflow installed separately with constraints in workflows
pandas==2.1.4                      # DataFrame operations
numpy==1.24.4                      # Numerical processing  
SQLAlchemy==1.4.48                 # Database ORM (compatible with Airflow 2.8.1)

# =====================================================
# DATABASE CONNECTIVITY (TESTED VERSIONS)
# =====================================================
apache-airflow-providers-postgres==5.7.1    # PostgreSQL provider
psycopg2-binary==2.9.7             # PostgreSQL adapter
apache-airflow-providers-common-sql==1.24.1 # SQL operations (security fix)
Flask-Session>=0.4.0,<1.0.0        # Session management (Airflow 2.8.1 compatible)
Flask-AppBuilder==4.8.1            # Security fix for transitive dependency

# =====================================================
# MONITORING & METRICS (LIGHTWEIGHT)
# =====================================================  
sqlparse==0.5.0                   # SQL parsing (security fix)
python-dateutil==2.8.2            # Date processing
prometheus-client==0.17.1         # Metrics collection
requests==2.32.4                  # HTTP requests for monitoring (security fix)

# =====================================================
# TESTING & QUALITY (DEVELOPMENT)
# =====================================================
pytest==7.4.0                     # Testing framework
pytest-cov==4.1.0                 # Coverage reporting

# =====================================================
# CODE QUALITY TOOLS (PINNED VERSIONS)
# =====================================================
black==23.12.1                    # Code formatting
isort==5.13.2                     # Import sorting  
flake8==6.1.0                     # Linting
pylint==3.0.3                     # Static analysis

# =====================================================
# WORKFLOW COMPATIBILITY NOTES
# =====================================================
# - Airflow version: 2.8.1 (standardized across all workflows)
# - Python version: 3.11 (standardized across all workflows)  
# - Constraints file used in workflows for guaranteed compatibility
# - Flask-Session version range prevents import path conflicts
